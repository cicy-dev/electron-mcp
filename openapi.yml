openapi: 3.0.0
info:
  title: Electron MCP REST API
  version: 1.0.0
  description: REST API for Electron MCP tools - 36 tools available
servers:
  - url: http://localhost:8101
    description: Local server
  - url: https://gcp-8101.cicy.de5.net
    description: Remote server
components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: token
security:
  - bearerAuth: []
paths:
  /rpc/tools:
    get:
      summary: List all available tools
      tags:
        - Tools
      security:
        - bearerAuth: []
      responses:
        '200':
          description: List of tools
          content:
            application/json:
              schema:
                type: object
                properties:
                  tools:
                    type: array
                    items:
                      type: object
                      properties:
                        name:
                          type: string
                        description:
                          type: string
  /rpc/ping:
    post:
      description: 测试 MCP 服务器连接
      tags:
        - Tools
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties: {}
      responses:
        '200':
          description: Tool execution result
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    type: array
                    items:
                      type: object
                      properties:
                        type:
                          type: string
                        text:
                          type: string
        '404':
          description: Tool not found
        '500':
          description: Execution error
  /rpc/get_windows:
    post:
      description: |-
        获取当前所有 Electron 窗口的实时状态列表。返回每个窗口的详细信息，是窗口管理和自动化操作的基础工具。
          
          返回信息包括：
          - id: 窗口的唯一标识符（调用其他 invoke_window 工具时必需）
          - title/url: 窗口当前的标题和网址
          - debuggerIsAttached: 调试器是否已附加
          - isActive/isVisible: 窗口焦点和可见性状态
          - accountIdx: 窗口所在帐户,帐户可以是0,1,2,3...每个相同帐户下面的所有窗口共享缓存cookie等,
          - bounds: 窗口位置和大小 (x, y, width, height)
          - 加载状态: isLoading, isDomReady, isCrashed 等

          主要用途：
          - 窗口管理：获取窗口ID进行后续操作
          - 状态监控：检查窗口是否正常运行
          - 自动化测试：验证窗口状态和属性
          - 调试辅助：查看所有窗口的实时信息
      tags:
        - Tools
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties: {}
      responses:
        '200':
          description: Tool execution result
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    type: array
                    items:
                      type: object
                      properties:
                        type:
                          type: string
                        text:
                          type: string
        '404':
          description: Tool not found
        '500':
          description: Execution error
  /rpc/get_window_info:
    post:
      description: 获取指定窗口的详细信息
      tags:
        - Tools
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                win_id:
                  type: number
              required:
                - win_id
      responses:
        '200':
          description: Tool execution result
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    type: array
                    items:
                      type: object
                      properties:
                        type:
                          type: string
                        text:
                          type: string
        '404':
          description: Tool not found
        '500':
          description: Execution error
  /rpc/open_window:
    post:
      description: 打开新的浏览器窗口。用于创建新窗口访问网页、测试多窗口应用或隔离不同的浏览会话。支持自定义窗口大小和位置。
      tags:
        - Tools
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                url:
                  type: string
                accountIdx:
                  type: number
                  default: 0
                options:
                  type: object
                  properties: {}
              required:
                - url
      responses:
        '200':
          description: Tool execution result
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    type: array
                    items:
                      type: object
                      properties:
                        type:
                          type: string
                        text:
                          type: string
        '404':
          description: Tool not found
        '500':
          description: Execution error
  /rpc/close_window:
    post:
      description: 关闭窗口
      tags:
        - Tools
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                win_id:
                  type: number
              required:
                - win_id
      responses:
        '200':
          description: Tool execution result
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    type: array
                    items:
                      type: object
                      properties:
                        type:
                          type: string
                        text:
                          type: string
        '404':
          description: Tool not found
        '500':
          description: Execution error
  /rpc/load_url:
    post:
      description: 加载URL
      tags:
        - Tools
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                url:
                  type: string
                win_id:
                  type: number
              required:
                - url
      responses:
        '200':
          description: Tool execution result
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    type: array
                    items:
                      type: object
                      properties:
                        type:
                          type: string
                        text:
                          type: string
        '404':
          description: Tool not found
        '500':
          description: Execution error
  /rpc/get_title:
    post:
      description: 获取窗口标题
      tags:
        - Tools
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                win_id:
                  type: number
              required:
                - win_id
      responses:
        '200':
          description: Tool execution result
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    type: array
                    items:
                      type: object
                      properties:
                        type:
                          type: string
                        text:
                          type: string
        '404':
          description: Tool not found
        '500':
          description: Execution error
  /rpc/control_electron_BrowserWindow:
    post:
      description: '直接调用Electron BrowserWindow实例的方法和属性。主要用途：窗口控制(移动、调整大小、最小化、最大化)、状态管理(置顶、焦点、可见性)、属性获取(位置、大小、状态)、高级操作(透明度、边框、图标)。可访问win(BrowserWindow实例)和webContents对象，支持async/await。示例: win.getBounds() 或 win.maximize() 或 win.webContents.executeJavaScript(''document.title'')'
      tags:
        - Tools
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                win_id:
                  type: number
                  default: 1
                code:
                  type: string
              required:
                - code
      responses:
        '200':
          description: Tool execution result
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    type: array
                    items:
                      type: object
                      properties:
                        type:
                          type: string
                        text:
                          type: string
        '404':
          description: Tool not found
        '500':
          description: Execution error
  /rpc/control_electron_WebContents:
    post:
      description: '调用Electron webContents的方法和属性。主要用途：页面操作(截图、打印、缩放、导航)、内容获取(URL、标题、源码)、脚本执行(在页面中执行JS)、开发调试(控制台信息、性能数据)、媒体控制(音频/视频)。可访问webContents和win对象，支持async/await，自动处理NativeImage返回为图像格式。示例: webContents.getURL() 或 webContents.reload() 或 webContents.capturePage()'
      tags:
        - Tools
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                win_id:
                  type: number
                  default: 1
                code:
                  type: string
              required:
                - code
      responses:
        '200':
          description: Tool execution result
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    type: array
                    items:
                      type: object
                      properties:
                        type:
                          type: string
                        text:
                          type: string
        '404':
          description: Tool not found
        '500':
          description: Execution error
  /rpc/get_console_logs:
    post:
      description: 获取窗口的控制台日志。返回自窗口创建或上次重载以来的所有 console 输出，包括 log/info/warning/error 等级别。支持分页查询和过滤。
      tags:
        - Tools
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                win_id:
                  type: number
                page:
                  type: number
                  default: 1
                page_size:
                  type: number
                  default: 50
                keyword:
                  type: string
                level:
                  type: string
                  enum:
                    - verbose
                    - info
                    - warning
                    - error
              required:
                - win_id
      responses:
        '200':
          description: Tool execution result
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    type: array
                    items:
                      type: object
                      properties:
                        type:
                          type: string
                        text:
                          type: string
        '404':
          description: Tool not found
        '500':
          description: Execution error
  /rpc/get_requests:
    post:
      description: 获取窗口的网络请求记录。返回所有请求的详细信息（包含文件路径）。支持 URL 过滤和分页。
      tags:
        - Tools
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                win_id:
                  type: number
                page:
                  type: number
                  default: 1
                page_size:
                  type: number
                  default: 50
                filter:
                  type: string
              required:
                - win_id
      responses:
        '200':
          description: Tool execution result
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    type: array
                    items:
                      type: object
                      properties:
                        type:
                          type: string
                        text:
                          type: string
        '404':
          description: Tool not found
        '500':
          description: Execution error
  /rpc/filter_requests:
    post:
      description: 根据关键词或文档类型过滤网络请求。搜索 URL、POST data 或按文档类型筛选。
      tags:
        - Tools
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                win_id:
                  type: number
                keyword:
                  type: string
                doc_type:
                  type: string
                page:
                  type: number
                  default: 1
                page_size:
                  type: number
                  default: 50
              required:
                - win_id
      responses:
        '200':
          description: Tool execution result
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    type: array
                    items:
                      type: object
                      properties:
                        type:
                          type: string
                        text:
                          type: string
        '404':
          description: Tool not found
        '500':
          description: Execution error
  /rpc/get_request_detail:
    post:
      description: 获取指定请求的详细信息，包括请求头和请求体。使用请求的 index 来查询。
      tags:
        - Tools
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                win_id:
                  type: number
                index:
                  type: number
              required:
                - win_id
                - index
      responses:
        '200':
          description: Tool execution result
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    type: array
                    items:
                      type: object
                      properties:
                        type:
                          type: string
                        text:
                          type: string
        '404':
          description: Tool not found
        '500':
          description: Execution error
  /rpc/session_download_url:
    post:
      description: 使用窗口的 session 下载文件到指定路径。不会弹出保存对话框，下载完成后文件直接保存到 save_path。
      tags:
        - Tools
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                win_id:
                  type: number
                url:
                  type: string
                save_path:
                  type: string
                timeout:
                  type: number
                  default: 300000
              required:
                - win_id
                - url
                - save_path
      responses:
        '200':
          description: Tool execution result
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    type: array
                    items:
                      type: object
                      properties:
                        type:
                          type: string
                        text:
                          type: string
        '404':
          description: Tool not found
        '500':
          description: Execution error
  /rpc/webpage_screenshot_and_to_clipboard:
    post:
      description: |-
        捕获指定窗口的页面截图并自动复制到系统剪贴板。这是快速获取页面视觉内容的便捷工具。

        主要用途：
        - 快速截图：一键获取页面截图
        - 文档记录：保存页面状态用于报告或文档
        - 测试验证：验证页面显示效果
        - 问题报告：快速获取错误页面截图
        - 内容分享：将页面内容复制到其他应用

        特点：
        - 自动复制到剪贴板，可直接粘贴到其他应用
        - 返回 MCP 图像格式，支持在对话中显示
        - 包含图像尺寸信息
      tags:
        - Tools
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                win_id:
                  type: number
      responses:
        '200':
          description: Tool execution result
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    type: array
                    items:
                      type: object
                      properties:
                        type:
                          type: string
                        text:
                          type: string
        '404':
          description: Tool not found
        '500':
          description: Execution error
  /rpc/webpage_snapshot:
    post:
      description: 捕获页面的结构快照，包含 URL、截图和所有可交互元素的信息。支持按类型/文本搜索元素。
      tags:
        - Tools
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                win_id:
                  type: number
                max_elements:
                  type: number
                  default: 20
                include_screenshot:
                  type: boolean
                  default: true
                show_overlays:
                  type: boolean
                  default: false
      responses:
        '200':
          description: Tool execution result
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    type: array
                    items:
                      type: object
                      properties:
                        type:
                          type: string
                        text:
                          type: string
        '404':
          description: Tool not found
        '500':
          description: Execution error
  /rpc/get_request_urls:
    post:
      description: 获取窗口的所有请求 URL 列表（队列）。支持 URL 过滤。
      tags:
        - Tools
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                win_id:
                  type: number
                page:
                  type: number
                  default: 1
                page_size:
                  type: number
                  default: 100
                filter:
                  type: string
              required:
                - win_id
      responses:
        '200':
          description: Tool execution result
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    type: array
                    items:
                      type: object
                      properties:
                        type:
                          type: string
                        text:
                          type: string
        '404':
          description: Tool not found
        '500':
          description: Execution error
  /rpc/get_request_detail_by_url:
    post:
      description: 根据 URL 获取请求的完整详情。返回该 URL 的所有请求和响应的文件路径列表。
      tags:
        - Tools
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                win_id:
                  type: number
                url:
                  type: string
              required:
                - win_id
                - url
      responses:
        '200':
          description: Tool execution result
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    type: array
                    items:
                      type: object
                      properties:
                        type:
                          type: string
                        text:
                          type: string
        '404':
          description: Tool not found
        '500':
          description: Execution error
  /rpc/clear_requests:
    post:
      description: 清空指定窗口的所有请求记录（仅清空内存，不删除已保存的文件）。
      tags:
        - Tools
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                win_id:
                  type: number
              required:
                - win_id
      responses:
        '200':
          description: Tool execution result
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    type: array
                    items:
                      type: object
                      properties:
                        type:
                          type: string
                        text:
                          type: string
        '404':
          description: Tool not found
        '500':
          description: Execution error
  /rpc/cdp_click:
    post:
      description: 使用 Chrome DevTools Protocol 点击页面指定坐标
      tags:
        - Tools
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                win_id:
                  type: number
                  default: 1
                x:
                  type: number
                'y':
                  type: number
                button:
                  type: string
                  enum:
                    - left
                    - right
                    - middle
                  default: left
              required:
                - x
                - 'y'
      responses:
        '200':
          description: Tool execution result
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    type: array
                    items:
                      type: object
                      properties:
                        type:
                          type: string
                        text:
                          type: string
        '404':
          description: Tool not found
        '500':
          description: Execution error
  /rpc/cdp_dblclick:
    post:
      description: 使用 Chrome DevTools Protocol 双击页面指定坐标
      tags:
        - Tools
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                win_id:
                  type: number
                  default: 1
                x:
                  type: number
                'y':
                  type: number
                button:
                  type: string
                  enum:
                    - left
                    - right
                    - middle
                  default: left
              required:
                - x
                - 'y'
      responses:
        '200':
          description: Tool execution result
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    type: array
                    items:
                      type: object
                      properties:
                        type:
                          type: string
                        text:
                          type: string
        '404':
          description: Tool not found
        '500':
          description: Execution error
  /rpc/cdp_press_key:
    post:
      description: 使用 CDP 按下指定按键
      tags:
        - Tools
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                win_id:
                  type: number
                  default: 1
                key:
                  type: string
              required:
                - key
      responses:
        '200':
          description: Tool execution result
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    type: array
                    items:
                      type: object
                      properties:
                        type:
                          type: string
                        text:
                          type: string
        '404':
          description: Tool not found
        '500':
          description: Execution error
  /rpc/cdp_press_enter:
    post:
      description: 使用 CDP 按下回车键
      tags:
        - Tools
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                win_id:
                  type: number
                  default: 1
      responses:
        '200':
          description: Tool execution result
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    type: array
                    items:
                      type: object
                      properties:
                        type:
                          type: string
                        text:
                          type: string
        '404':
          description: Tool not found
        '500':
          description: Execution error
  /rpc/cdp_press_backspace:
    post:
      description: 使用 CDP 按下退格键
      tags:
        - Tools
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                win_id:
                  type: number
                  default: 1
      responses:
        '200':
          description: Tool execution result
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    type: array
                    items:
                      type: object
                      properties:
                        type:
                          type: string
                        text:
                          type: string
        '404':
          description: Tool not found
        '500':
          description: Execution error
  /rpc/cdp_press_copy:
    post:
      description: 使用 CDP 执行复制操作 (Ctrl+C)
      tags:
        - Tools
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                win_id:
                  type: number
                  default: 1
      responses:
        '200':
          description: Tool execution result
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    type: array
                    items:
                      type: object
                      properties:
                        type:
                          type: string
                        text:
                          type: string
        '404':
          description: Tool not found
        '500':
          description: Execution error
  /rpc/cdp_press_paste:
    post:
      description: 使用 CDP 执行粘贴操作 (Ctrl+V)
      tags:
        - Tools
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                win_id:
                  type: number
                  default: 1
      responses:
        '200':
          description: Tool execution result
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    type: array
                    items:
                      type: object
                      properties:
                        type:
                          type: string
                        text:
                          type: string
        '404':
          description: Tool not found
        '500':
          description: Execution error
  /rpc/cdp_press_selectall:
    post:
      description: 使用 CDP 执行全选操作 (Ctrl+A)
      tags:
        - Tools
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                win_id:
                  type: number
                  default: 1
      responses:
        '200':
          description: Tool execution result
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    type: array
                    items:
                      type: object
                      properties:
                        type:
                          type: string
                        text:
                          type: string
        '404':
          description: Tool not found
        '500':
          description: Execution error
  /rpc/cdp_press_cut:
    post:
      description: 使用 CDP 执行剪切操作 (Ctrl+X)
      tags:
        - Tools
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                win_id:
                  type: number
                  default: 1
      responses:
        '200':
          description: Tool execution result
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    type: array
                    items:
                      type: object
                      properties:
                        type:
                          type: string
                        text:
                          type: string
        '404':
          description: Tool not found
        '500':
          description: Execution error
  /rpc/cdp_type_text:
    post:
      description: 使用 CDP 输入文本
      tags:
        - Tools
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                win_id:
                  type: number
                  default: 1
                text:
                  type: string
              required:
                - text
      responses:
        '200':
          description: Tool execution result
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    type: array
                    items:
                      type: object
                      properties:
                        type:
                          type: string
                        text:
                          type: string
        '404':
          description: Tool not found
        '500':
          description: Execution error
  /rpc/cdp_scroll:
    post:
      description: 使用 CDP 滚动页面
      tags:
        - Tools
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                win_id:
                  type: number
                  default: 1
                x:
                  type: number
                  default: 0
                'y':
                  type: number
              required:
                - 'y'
      responses:
        '200':
          description: Tool execution result
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    type: array
                    items:
                      type: object
                      properties:
                        type:
                          type: string
                        text:
                          type: string
        '404':
          description: Tool not found
        '500':
          description: Execution error
  /rpc/cdp_sendcmd:
    post:
      description: 使用 CDP 发送任意 Chrome DevTools Protocol 命令
      tags:
        - Tools
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                win_id:
                  type: number
                  default: 1
                method:
                  type: string
                params:
                  type: object
                  default: {}
              required:
                - method
      responses:
        '200':
          description: Tool execution result
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    type: array
                    items:
                      type: object
                      properties:
                        type:
                          type: string
                        text:
                          type: string
        '404':
          description: Tool not found
        '500':
          description: Execution error
  /rpc/inject_auto_run_when_dom_ready_js:
    post:
      description: 注入JS代码到当前域名的localStorage，页面刷新/导航后自动执行。⚠️ 重要：仅对当前域名生效！跨域页面不会执行。典型用法：1)注入轻量工具函数 2)注入自动化脚本(自动登录、表单填充) 3)修改页面样式或行为 4)注入调试工具。示例：注入function hello(){console.log('hi')},刷新后调用hello()
      tags:
        - Tools
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                win_id:
                  type: number
                  default: 1
                code:
                  type: string
              required:
                - code
      responses:
        '200':
          description: Tool execution result
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    type: array
                    items:
                      type: object
                      properties:
                        type:
                          type: string
                        text:
                          type: string
        '404':
          description: Tool not found
        '500':
          description: Execution error
  /rpc/inject_auto_run_when_dom_ready_js_read:
    post:
      description: 读取已注入到当前域名localStorage的自动执行JS代码
      tags:
        - Tools
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                win_id:
                  type: number
                  default: 1
      responses:
        '200':
          description: Tool execution result
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    type: array
                    items:
                      type: object
                      properties:
                        type:
                          type: string
                        text:
                          type: string
        '404':
          description: Tool not found
        '500':
          description: Execution error
  /rpc/exec_js:
    post:
      description: '在窗口中执行JS代码并返回结果,支持async/await。示例: document.title 或 return document.title 或 await fetch(''/api'').then(r=>r.json())'
      tags:
        - Tools
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                win_id:
                  type: number
                  default: 1
                code:
                  type: string
              required:
                - code
      responses:
        '200':
          description: Tool execution result
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    type: array
                    items:
                      type: object
                      properties:
                        type:
                          type: string
                        text:
                          type: string
        '404':
          description: Tool not found
        '500':
          description: Execution error
  /rpc/get_element_client_bound:
    post:
      description: 获取页面元素的位置和尺寸信息(getBoundingClientRect)。返回元素的 x, y, width, height, top, left, right, bottom 坐标。selector 必须唯一且不能为空
      tags:
        - Tools
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                win_id:
                  type: number
                  default: 1
                selector:
                  type: string
              required:
                - selector
      responses:
        '200':
          description: Tool execution result
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    type: array
                    items:
                      type: object
                      properties:
                        type:
                          type: string
                        text:
                          type: string
        '404':
          description: Tool not found
        '500':
          description: Execution error
  /rpc/show_float_div:
    post:
      description: 在页面中心显示一个可拖拽、可调整大小的浮动 div。支持自定义位置、尺寸和透明度。
      tags:
        - Tools
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                win_id:
                  type: number
                  default: 1
                x:
                  type: number
                'y':
                  type: number
                w:
                  type: number
                  default: 300
                h:
                  type: number
                  default: 200
                opacity:
                  type: number
                  default: 0.7
      responses:
        '200':
          description: Tool execution result
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    type: array
                    items:
                      type: object
                      properties:
                        type:
                          type: string
                        text:
                          type: string
        '404':
          description: Tool not found
        '500':
          description: Execution error
